<!-- loại sản phẩm -->
<div id="formLoaiSP"
    style="display: none; justify-content: center; align-items: center; width: 100%; height: 100%; margin-top: 20px;">
    <form class="border bg-white p-5 w-50 " method="post" action="/addProductType"
        style="position: relative; top: 200px; height: 350px;">
        <button id="close_loai" type="button" class="close" aria-label="Close"
            style="position: absolute; top: 10px; right: 20px;">
            <span aria-hidden="true">&times;</span>
        </button>
        <div style="display: flex; justify-content: center;">
            <span style="font-weight: bold;"> Nhập Loại Sản Phẩm</span>
        </div>
        <div class="form-group">
            <label for="exampleInputEmail1">Mã loại sản phẩm</label>
            <input type="text" class="form-control" id="maloaisp" placeholder="Mã loại sản phẩm" name="maloaisp">
        </div>
        <div class="form-group">
            <label for="exampleInputEmail1">Tên loại sản phẩm</label>
            <input type="text" class="form-control" id="tenloaisp" placeholder="Tên loại sản phẩm" name="tenloaisp">
        </div>
        <div style="display: flex; justify-content: center;">
            <button type="submit" class="btn btn-primary" style="width: 80px;">Lưu</button>
        </div>
    </form>
</div>

<!-- nhà sản xuất -->
<div id="formNSX"
    style="display: none; justify-content: center; align-items: center; width: 100%; height: 100%; margin-top: -45px; ">
    <form class="border p-5 w-50 bg-white" method="post" action="/addNSX"
        style="position: relative; top: 300px; height: 550px;">
        <button id="close_nsx" type="button" class="close" aria-label="Close"
            style="position: absolute; top: 10px; right: 20px;">
            <span aria-hidden="true">&times;</span>
        </button>
        <div style="display: flex; justify-content: center;">
            <span style="font-weight: bold;"> Nhập Nhà Sản Xuất</span>
        </div>
        <div class="form-group">
            <label for="exampleInputEmail1">Mã nhà sản xuất</label>
            <input type="text" class="form-control" placeholder="Mã loại sản phẩm" name="mansx">
        </div>
        <div class="form-group">
            <label for="exampleInputEmail1">Tên nhà sản xuất</label>
            <input type="text" class="form-control" placeholder="Tên loại sản phẩm" name="tennsx">
        </div>
        <div class="form-group">
            <label for="exampleInputEmail1">Loại sản phẩm</label>
            <select name="loaisp" id="">
                <% if(data.rows){ %>
                    <% for(let i=0; i < data.rows.length; i++) { %>
                        <option value="<%= data.rows[i].tenloai %>">
                            <%= data.rows[i].tenloai %>
                        </option>
                        <% } %>
                            <% } %>
            </select>
        </div>
        <div class="form-group">
            <label for="exampleInputEmail1">Email nhà sản xuất</label>
            <input type="text" class="form-control" placeholder="Tên loại sản phẩm" name="emailnsx">
        </div>
        <div class="form-group">
            <label for="exampleInputEmail1">Địa chỉ nhà sản xuất</label>
            <input type="text" class="form-control" placeholder="Tên loại sản phẩm" name="diachinsx">
        </div>
        <div style="display: flex; justify-content: center;">
            <button type="submit" class="btn btn-primary" style="width: 80px;">Lưu</button>
        </div>
    </form>
</div>

<!-- sản phẩm -->
<div id="formSP"
    style="display: none; justify-content: center; align-items: center; width: 100%; height: 100%; margin-top: -80px; z-index: 3;">
    <form class="border p-5 w-50 bg-white" style="height: 700px; position: relative; top: 320px" method="post"
        enctype="multipart/form-data" action="/addProduct">
        <button id="close_sp" type="button" class="close" aria-label="Close"
            style="position: absolute; top: 10px; right: 20px;">
            <span aria-hidden="true">&times;</span>
        </button>
        <div style="display: flex; justify-content: center;">
            <span style="font-weight: bold;"> Nhập Sản phẩm</span>
        </div>
        <div class="form-group">
            <label>Mã sản phẩm</label>
            <input type="text" class="form-control" placeholder="Mã loại sản phẩm" name="masp">
        </div>
        <div class="form-group">
            <label>Tên sản phẩm</label>
            <input type="text" class="form-control" placeholder="Tên loại sản phẩm" name="tensp">
        </div>
        <div class="form-group">
            <label>Giá</label>
            <input type="text" class="form-control" placeholder="Giá" name="gia">
        </div>
        <div class="form-group">
            <label>Thông tin chi tiết</label>
            <input type="text" class="form-control" placeholder="Thông tin chi tiết" name="thongtinchitiet">
        </div>
        <div class="form-group">
            <label>Số lượng sản phẩm</label>
            <input type="number" class="form-control" placeholder="Số lượng sản phẩm" name="soluongsp">
        </div>
        <div class="form-group">
            <label>Hình ảnh sản phẩm</label>
            <input type="file" name="hinhanh">
        </div>
        <div class="form-group">
            <label>Loại sản phẩm</label>
            <select name="maloai">
                <% if(data.rows){ %>
                    <% for(let i=0; i < data.rows.length; i++) { %>
                        <option value="<%= data.rows[i].maloai %>">
                            <%= data.rows[i].tenloai %>
                        </option>
                        <% } %>
                            <% } %>
            </select>
        </div>
        <div class="form-group">
            <label>Nhà sản xuất</label>
            <select name="mansx">
                <% if(data.listNSX){ %>
                    <% for(let i=0; i < data.listNSX.length; i++) { %>
                        <option value="<%= data.listNSX[i].mansx %>">
                            <%= data.listNSX[i].tennsx %>
                        </option>
                        <% } %>
                            <% } %>
            </select>
        </div>
        <div style="display: flex; justify-content: center;">
            <button type="submit" class="btn btn-primary" style="width: 80px;">Lưu</button>
        </div>
    </form>
</div>

<script>

    const btnLoaiSP = document.getElementById('btnLoaiSP');
    const btnNSX = document.getElementById('btnNSX');
    const btnSP = document.getElementById('btnSP');

    const formLoaiSP = document.getElementById('formLoaiSP');
    const formNSX = document.getElementById('formNSX');
    const formSP = document.getElementById('formSP');

    const closeLoai = document.getElementById('close_loai');
    const closeNsx = document.getElementById('close_nsx');
    const closeSp = document.getElementById('close_sp');

    closeLoai.addEventListener('click', function () {
        formLoaiSP.style.display = 'none';
    })

    closeNsx.addEventListener('click', function () {
        formNSX.style.display = 'none';
    })

    closeSp.addEventListener('click', function () {
        formSP.style.display = 'none';
    })

    closeSp.addEventListener('click', function () {
        formNSX.style.display = 'none';
    })

    function hideAllForms() {
        formLoaiSP.style.display = 'none';
        formNSX.style.display = 'none';
        formSP.style.display = 'none';
    }


    btnLoaiSP.addEventListener('click', function () {
        hideAllForms();
        formLoaiSP.style.display = 'flex';
    });

    btnNSX.addEventListener('click', function () {
        hideAllForms();
        formNSX.style.display = 'flex';
    });

    btnSP.addEventListener('click', function () {
        hideAllForms();
        formSP.style.display = 'flex';
    });

</script>